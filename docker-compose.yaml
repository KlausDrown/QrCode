services:
  backend:
    depends_on:
      - psql
    image: qr_code:1
    ports:
      - "8080:8080"
    environment:
      - 'SPRING_DATASOURCE_URL=jdbc:postgresql://psql:5433/qr'

  psql:
    image: postgres:alpine
    ports:
      - "5433:5433"
    environment:
      - 'POSTGRES_PASSWORD=qr'
      - 'POSTGRES_USER=qr'
      - 'PGPORT=5433'
    volumes:
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql